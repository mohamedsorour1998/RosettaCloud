<!-- Hero Section -->
<div class="contact-hero">
  <div class="container text-center py-5">
    <h1 class="display-4 mb-3 animate-fade-in-down">Get In Touch</h1>
    <p class="lead mb-4 animate-fade-in">
      We're here to help with any questions about our courses, platform, or
      services
    </p>
    <div class="hero-buttons animate-fade-in-up">
      <a href="#contact-form" class="btn btn-primary me-2 smooth-scroll">
        <i class="bi bi-chat-dots-fill me-2"></i>Send a Message
      </a>
      <a href="#locations" class="btn btn-outline-light smooth-scroll">
        <i class="bi bi-geo-alt-fill me-2"></i>Our Locations
      </a>
    </div>
  </div>
</div>

<!-- Main Content -->
<div class="container py-5">
  <div class="row g-5">
    <!-- Contact Form -->
    <div class="col-lg-7">
      <div class="contact-form-container animate-on-scroll" id="contact-form">
        <h2 class="section-title">Contact Us</h2>

        <!-- Success message -->
        <div
          class="alert alert-success animate-fade-in mb-4"
          *ngIf="formSuccess"
        >
          <i class="bi bi-check-circle-fill me-2"></i>
          <strong>Thank you for your message!</strong> We've received your
          inquiry and will get back to you soon.
        </div>

        <!-- Error message -->
        <div class="alert alert-danger animate-fade-in mb-4" *ngIf="formError">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          <strong>Oops!</strong> There was a problem sending your message.
          Please try again later.
        </div>

        <!-- Contact form -->
        <form
          [formGroup]="contactForm"
          (ngSubmit)="onSubmit()"
          class="contact-form"
        >
          <div class="row g-4">
            <div class="col-md-6">
              <div class="form-group">
                <label for="name" class="form-label"
                  >Full Name <span class="text-danger">*</span></label
                >
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-person"></i
                  ></span>
                  <input
                    type="text"
                    id="name"
                    class="form-control"
                    formControlName="name"
                    placeholder="Your full name"
                    [class.is-invalid]="
                      hasError('name', 'required') ||
                      hasError('name', 'minlength')
                    "
                  />
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('name', 'required')"
                >
                  Name is required
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('name', 'minlength')"
                >
                  Name must be at least 2 characters
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="email" class="form-label"
                  >Email Address <span class="text-danger">*</span></label
                >
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-envelope"></i
                  ></span>
                  <input
                    type="email"
                    id="email"
                    class="form-control"
                    formControlName="email"
                    placeholder="Your email address"
                    [class.is-invalid]="
                      hasError('email', 'required') ||
                      hasError('email', 'email')
                    "
                  />
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('email', 'required')"
                >
                  Email is required
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('email', 'email')"
                >
                  Please enter a valid email address
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="phone" class="form-label"
                  >Phone Number (Optional)</label
                >
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-telephone"></i
                  ></span>
                  <input
                    type="tel"
                    id="phone"
                    class="form-control"
                    formControlName="phone"
                    placeholder="Your phone number"
                    [class.is-invalid]="hasError('phone', 'pattern')"
                  />
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('phone', 'pattern')"
                >
                  Please enter a valid phone number
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="subject" class="form-label"
                  >Subject <span class="text-danger">*</span></label
                >
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-chat-left-text"></i
                  ></span>
                  <select
                    id="subject"
                    class="form-select"
                    formControlName="subject"
                    [class.is-invalid]="hasError('subject', 'required')"
                  >
                    <option value="" disabled selected>Select a subject</option>
                    <option value="Course Question">Course Question</option>
                    <option value="Technical Support">Technical Support</option>
                    <option value="Billing Issue">Billing Issue</option>
                    <option value="Become an Instructor">
                      Become an Instructor
                    </option>
                    <option value="Partnership Opportunity">
                      Partnership Opportunity
                    </option>
                    <option value="Other">Other</option>
                  </select>
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('subject', 'required')"
                >
                  Please select a subject
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="form-group">
                <label for="message" class="form-label"
                  >Message <span class="text-danger">*</span></label
                >
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-pencil"></i
                  ></span>
                  <textarea
                    id="message"
                    class="form-control"
                    formControlName="message"
                    placeholder="Type your message here..."
                    rows="5"
                    [class.is-invalid]="
                      hasError('message', 'required') ||
                      hasError('message', 'minlength')
                    "
                  ></textarea>
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('message', 'required')"
                >
                  Message is required
                </div>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('message', 'minlength')"
                >
                  Message must be at least 10 characters
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="acceptTerms"
                  formControlName="acceptTerms"
                  [class.is-invalid]="hasError('acceptTerms', 'requiredTrue')"
                />
                <label class="form-check-label" for="acceptTerms">
                  I agree to the
                  <a href="/privacy" target="_blank">Privacy Policy</a> and
                  <a href="/terms" target="_blank">Terms of Service</a>
                </label>
                <div
                  class="invalid-feedback"
                  *ngIf="hasError('acceptTerms', 'requiredTrue')"
                >
                  You must accept the terms to proceed
                </div>
              </div>
            </div>

            <div class="col-12 mt-4">
              <button
                type="submit"
                class="btn btn-primary btn-lg submit-btn"
                [disabled]="formSubmitted"
              >
                <span *ngIf="!formSubmitted">
                  <i class="bi bi-send me-2"></i>Send Message
                </span>
                <span *ngIf="formSubmitted" class="d-flex align-items-center">
                  <span
                    class="spinner-border spinner-border-sm me-2"
                    role="status"
                    aria-hidden="true"
                  ></span>
                  Sending...
                </span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- Contact Information and Support Options -->
    <div class="col-lg-5">
      <div class="contact-info-container animate-on-scroll">
        <h2 class="section-title">Support Options</h2>

        <div class="contact-info-items">
          <div class="contact-info-item">
            <div class="icon-container">
              <i class="bi bi-headset"></i>
            </div>
            <div class="info-content">
              <h3>Technical Support</h3>
              <p>
                Need help with your course? Our technical support team is
                available 24/7.
              </p>
              <a href="mailto:support@rosettacloud.app" class="info-link">
                <i class="bi bi-envelope-fill me-2"></i
                >support&#64;rosettacloud.app
              </a>
            </div>
          </div>

          <div class="contact-info-item">
            <div class="icon-container">
              <i class="bi bi-credit-card"></i>
            </div>
            <div class="info-content">
              <h3>Billing Inquiries</h3>
              <p>
                Questions about billing, refunds, or subscription plans? Our
                billing team can help.
              </p>
              <a href="mailto:billing@rosettacloud.app" class="info-link">
                <i class="bi bi-envelope-fill me-2"></i
                >billing&#64;rosettacloud.app
              </a>
            </div>
          </div>

          <div class="contact-info-item">
            <div class="icon-container">
              <i class="bi bi-building"></i>
            </div>
            <div class="info-content">
              <h3>Enterprise Solutions</h3>
              <p>
                Looking for corporate training or custom learning solutions for
                your organization?
              </p>
              <a href="mailto:enterprise@rosettacloud.app" class="info-link">
                <i class="bi bi-envelope-fill me-2"></i
                >enterprise&#64;rosettacloud.app
              </a>
              <a href="tel:+20227549870" class="info-link">
                <i class="bi bi-telephone-fill me-2"></i>+20 2 2754 9870
              </a>
            </div>
          </div>

          <div class="contact-info-item">
            <div class="icon-container">
              <i class="bi bi-briefcase"></i>
            </div>
            <div class="info-content">
              <h3>Careers</h3>
              <p>
                Interested in joining our team? Explore current openings or send
                your CV.
              </p>
              <a href="mailto:careers@rosettacloud.app" class="info-link">
                <i class="bi bi-envelope-fill me-2"></i
                >careers&#64;rosettacloud.app
              </a>
              <a href="/careers" class="btn btn-sm btn-outline-primary mt-2"
                >View Open Positions</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Office Locations Section -->
  <div class="office-locations my-5 pt-5 animate-on-scroll" id="locations">
    <h2 class="section-title text-center mb-5">Our Offices</h2>

    <!-- Location tabs -->
    <div class="location-tabs mb-4">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="d-flex flex-wrap justify-content-center">
            <button
              *ngFor="let location of officeLocations"
              class="location-tab-btn"
              [class.active]="selectedLocation.id === location.id"
              (click)="selectLocation(location)"
            >
              <i class="bi bi-geo-alt me-2"></i>{{ location.city }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Location details -->
    <div class="row g-4 align-items-center">
      <div class="col-lg-6">
        <div class="location-details">
          <div class="location-header">
            <h3>{{ selectedLocation.city }}, {{ selectedLocation.country }}</h3>
          </div>

          <div class="location-info">
            <div class="info-row">
              <i class="bi bi-geo-alt-fill"></i>
              <span>{{ selectedLocation.address }}</span>
            </div>
            <div class="info-row">
              <i class="bi bi-telephone-fill"></i>
              <a [href]="'tel:' + selectedLocation.phone">{{
                selectedLocation.phone
              }}</a>
            </div>
            <div class="info-row">
              <i class="bi bi-envelope-fill"></i>
              <a [href]="'mailto:' + selectedLocation.email">{{
                selectedLocation.email
              }}</a>
            </div>
            <div class="info-row">
              <i class="bi bi-clock-fill"></i>
              <span>{{ selectedLocation.hours }}</span>
            </div>
          </div>

          <div class="location-actions mt-4">
            <a
              [href]="selectedLocation.mapUrl"
              target="_blank"
              class="btn btn-primary"
            >
              <i class="bi bi-map me-2"></i>View on Map
            </a>
            <a
              [href]="'mailto:' + selectedLocation.email"
              class="btn btn-outline-primary ms-3"
            >
              <i class="bi bi-envelope me-2"></i>Email This Office
            </a>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="map-container">
          <iframe
            width="100%"
            height="450"
            style="
              border: 0;
              border-radius: 1rem;
              box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.1);
            "
            loading="lazy"
            allowfullscreen
            referrerpolicy="no-referrer-when-downgrade"
            [src]="selectedLocation.mapUrl | safeUrl"
          >
          </iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="faq-section my-5 pt-4 animate-on-scroll">
    <h2 class="section-title text-center mb-5">Frequently Asked Questions</h2>

    <div class="row justify-content-center">
      <div class="col-lg-10">
        <div class="faq-container">
          <div
            *ngFor="let faq of faqItems; let i = index"
            class="faq-item"
            [class.active]="expandedFaqIndex === i"
          >
            <div class="faq-question" (click)="toggleFaq(i)">
              <h3>{{ faq.question }}</h3>
              <div class="faq-icon">
                <i
                  class="bi"
                  [class.bi-plus]="expandedFaqIndex !== i"
                  [class.bi-dash]="expandedFaqIndex === i"
                ></i>
              </div>
            </div>
            <div class="faq-answer" [class.show]="expandedFaqIndex === i">
              <p>{{ faq.answer }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Social Media Section -->
  <div class="social-section my-5 animate-on-scroll">
    <h2 class="section-title text-center mb-5">Connect With Us</h2>

    <div class="social-container text-center">
      <p class="mb-4">
        Follow us on social media for updates, educational content, and more
      </p>

      <div class="social-icons">
        <a
          href="https://facebook.com/rosettacloud"
          class="social-icon facebook"
          target="_blank"
        >
          <i class="bi bi-facebook"></i>
        </a>
        <a
          href="https://twitter.com/rosettacloud"
          class="social-icon twitter"
          target="_blank"
        >
          <i class="bi bi-twitter"></i>
        </a>
        <a
          href="https://instagram.com/rosettacloud"
          class="social-icon instagram"
          target="_blank"
        >
          <i class="bi bi-instagram"></i>
        </a>
        <a
          href="https://linkedin.com/company/rosettacloud"
          class="social-icon linkedin"
          target="_blank"
        >
          <i class="bi bi-linkedin"></i>
        </a>
        <a
          href="https://youtube.com/c/rosettacloud"
          class="social-icon youtube"
          target="_blank"
        >
          <i class="bi bi-youtube"></i>
        </a>
      </div>

      <p class="mt-4">
        Subscribe to our newsletter for the latest course updates and special
        offers
      </p>
      <a routerLink="/subscribe" class="btn btn-outline-primary">
        <i class="bi bi-envelope-paper me-2"></i>Subscribe to Newsletter
      </a>
    </div>
  </div>
</div>
